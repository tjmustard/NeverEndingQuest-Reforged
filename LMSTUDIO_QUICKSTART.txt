================================================================================
NEVERENDINGQUEST - LM STUDIO MODE - QUICK START GUIDE
================================================================================

ONE-CLICK SETUP (WINDOWS)
==========================

STEP 1: Install LM Studio
  - Download from: https://lmstudio.ai/
  - Install and launch

STEP 2: Load a Model in LM Studio
  - Recommended: Mistral-7B-Instruct or Llama-3.1-8B-Instruct
  - Click the download icon in LM Studio
  - Search for "mistral 7b instruct" or "llama 3.1 8b instruct"
  - Download the GGUF version (Q4_K_M or Q5_K_M quantization)

STEP 3: Start LM Studio Server
  - Click the server icon (bottom-right in LM Studio)
  - Click "Start Server"
  - Verify it says "Server running on port 1234"

STEP 4: Install mitmproxy (ONE TIME ONLY)
  - Open Command Prompt
  - Run: pip install mitmproxy
  - Close Command Prompt

STEP 5: Launch the Game
  - Double-click: launch_lmstudio_mode.bat
  - Two windows will open (DO NOT CLOSE THE FIRST ONE!)
  - Play the game in the second window

THAT'S IT! You're now running NeverEndingQuest with LM Studio!

================================================================================

MANUAL SETUP (IF ONE-CLICK DOESN'T WORK)
=========================================

Terminal 1:
  - Run: start_lmstudio_proxy.bat
  - Keep this window open

Terminal 2:
  - Run: run_with_lmstudio.bat
  - This is your game window

================================================================================

TROUBLESHOOTING
===============

Problem: "mitmproxy is not installed"
Fix: pip install mitmproxy

Problem: "Cannot connect to LM Studio"
Fix: Make sure LM Studio server is started (click "Start Server" in LM Studio)

Problem: Game responses are weird
Fix: Try a different model - Mistral 7B Instruct works best

Problem: Game is slow
Fix: Close other apps, or try a smaller model (7B instead of 13B)

================================================================================

CONFIGURATION
=============

Change LM Studio Port (if not using default 1234):
  1. Edit lmstudio_forwarder.py
  2. Line 20: LM_STUDIO_PORT = 1234
  3. Change to your port
  4. Save and restart

Disable Logging:
  1. Edit lmstudio_forwarder.py
  2. Line 21: CAPTURE_LOGS = True
  3. Change to False
  4. Save and restart

================================================================================

RECOMMENDED MODELS (Download in LM Studio)
===========================================

Best Overall:
  - mistralai/Mistral-7B-Instruct-v0.3 (Q4_K_M or Q5_K_M)
  - Meta-Llama-3.1-8B-Instruct (Q4_K_M or Q5_K_M)

For Better Quality (needs more RAM):
  - mistralai/Mistral-Nemo-Instruct-2407 (12B)
  - Meta-Llama-3.1-13B-Instruct (Q4_K_M)

Minimum System Requirements:
  - 7B models: 16GB RAM
  - 13B models: 32GB RAM
  - GPU recommended but not required

================================================================================

STOPPING THE GAME
=================

1. Close the game window (second window)
2. Close the forwarder proxy window (first window)
3. You can close LM Studio or keep it running

================================================================================

SWITCHING BACK TO OPENAI
=========================

Just run the game normally:
  - python run_web.py

Your OpenAI API key in config.py will be used automatically.

================================================================================

FILES REFERENCE
===============

Launch Scripts:
  launch_lmstudio_mode.bat    <- ONE-CLICK LAUNCHER (USE THIS!)
  start_lmstudio_proxy.bat    <- Forwarder only
  run_with_lmstudio.bat       <- Game only

Core Files:
  lmstudio_forwarder.py       <- Proxy configuration
  openai_patcher.py           <- OpenAI library patcher

Documentation:
  LMSTUDIO_SETUP.md           <- Full setup guide
  LMSTUDIO_QUICKSTART.txt     <- This file

================================================================================

NEED HELP?
==========

Full Documentation: Read LMSTUDIO_SETUP.md
LM Studio Discord: https://discord.gg/lmstudio
GitHub Issues: https://github.com/yourusername/neverendingquest/issues

================================================================================
